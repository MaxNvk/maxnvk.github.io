var A=Object.defineProperty;var O=(o,t,e)=>t in o?A(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var u=(o,t,e)=>O(o,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();class T extends HTMLElement{constructor(){super();u(this,"isRecording",!1);const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.speechButton=this.querySelector(".js-recording-button"),this.form=this.querySelector(".js-form"),this.recognition.continuous=!0,this.chatWindow=document.querySelector("lawyer-chat-window"),this.formInput=this.querySelector("input[type='text']"),this.initEventListeners(),this.runMessageAppearAnimation()}runMessageAppearAnimation(){const e=this.querySelector(".js-message-text"),n=this.querySelector(".js-loading-dots");setTimeout(()=>{e.classList.remove("tw-hidden"),n.classList.add("tw-invisible")},5e3)}initEventListeners(){this.speechButton.addEventListener("click",this.onSpeechButtonClick.bind(this)),this.recognition.onstart=()=>{this.isRecording=!0,this.speechButton.classList.add("recording"),this.speechButton.querySelector(".js-mic").classList.add("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.remove("tw-hidden")},this.recognition.onaudioend=()=>{this.isRecording=!1,this.speechButton.classList.remove("recording"),this.speechButton.querySelector(".js-mic").classList.remove("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.add("tw-hidden")},this.recognition.onresult=e=>{const n=e.results;this.formInput.value=Array.from(n).map(i=>i[0].transcript).join(". ")},this.form.addEventListener("submit",e=>{e.preventDefault(),this.chatWindow.openWindow()})}onSpeechButtonClick(){this.isRecording?this.recognition.stop():this.recognition.start()}}const B=()=>{customElements.define("lawyer-chat-widget",T)},q=()=>{if(typeof window>"u"||typeof document>"u")return;const o=".header",t="is-scrolled",e=50,n=".button",i="button--white-outlined",s="button--primary";let a=!1,l=null,r=null;function d(){if(a=!1,!l)return;const S=window.scrollY>=e;l.classList.toggle(t,S),r&&(S?(r.classList.remove(i),r.classList.add(s)):(r.classList.add(i),r.classList.remove(s)))}function c(){a||(a=!0,window.requestAnimationFrame(d))}function b(){l=document.querySelector(o),l&&(r=l.querySelector(n),d(),window.addEventListener("scroll",c,{passive:!0}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b,{once:!0}):b()},_=()=>{if(typeof window>"u"||typeof document>"u")return;const o=".js-animate",t="is-visible";function e(s){if(s==null)return null;const a=String(s).trim().toLowerCase();if(!a)return null;if(a.endsWith("ms")){const r=parseFloat(a.slice(0,-2));return!isFinite(r)||r<0?null:`${r}ms`}if(a.endsWith("s")){const r=parseFloat(a.slice(0,-1));return!isFinite(r)||r<0?null:`${r}s`}const l=parseFloat(a);return!isFinite(l)||l<0?null:`${l}ms`}function n(s,a=!1,l=!1){var d;if(s.classList.contains(t))return;if(!a){const c=e(((d=s==null?void 0:s.dataset)==null?void 0:d.delay)??s.getAttribute("data-animation-delay"));c&&(s.style.transitionDelay=c)}const r=()=>s.classList.add(t);l?r():requestAnimationFrame(()=>requestAnimationFrame(r))}function i(){const s=Array.from(document.querySelectorAll(o));if(s.length===0)return;const a=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!("IntersectionObserver"in window)||a){s.forEach(r=>n(r,!0,!0));return}const l=new IntersectionObserver((r,d)=>{r.forEach(c=>{c.isIntersecting&&(n(c.target),d.unobserve(c.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15});s.forEach(r=>l.observe(r))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i,{once:!0}):i()};function x(o){if(Array.isArray(o)){for(var t=0,e=Array(o.length);t<o.length;t++)e[t]=o[t];return e}else return Array.from(o)}var g=!1;if(typeof window<"u"){var L={get passive(){g=!0}};window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}var p=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),f=[],w=!1,E=-1,m=void 0,h=void 0,v=void 0,R=function(t){return f.some(function(e){return!!(e.options.allowTouchMove&&e.options.allowTouchMove(t))})},y=function(t){var e=t||window.event;return R(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},C=function(t){if(v===void 0){var e=!1,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){var i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);v=document.body.style.paddingRight,document.body.style.paddingRight=i+n+"px"}}m===void 0&&(m=document.body.style.overflow,document.body.style.overflow="hidden")},M=function(){v!==void 0&&(document.body.style.paddingRight=v,v=void 0),m!==void 0&&(document.body.style.overflow=m,m=void 0)},z=function(){return window.requestAnimationFrame(function(){if(h===void 0){h={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var t=window,e=t.scrollY,n=t.scrollX,i=t.innerHeight;document.body.style.position="fixed",document.body.style.top=-e,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=i-window.innerHeight;s&&e>=i&&(document.body.style.top=-(e+s))})},300)}})},I=function(){if(h!==void 0){var t=-parseInt(document.body.style.top,10),e=-parseInt(document.body.style.left,10);document.body.style.position=h.position,document.body.style.top=h.top,document.body.style.left=h.left,window.scrollTo(e,t),h=void 0}},H=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},P=function(t,e){var n=t.targetTouches[0].clientY-E;return R(t.target)?!1:e&&e.scrollTop===0&&n>0||H(e)&&n<0?y(t):(t.stopPropagation(),!0)},j=function(t,e){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!f.some(function(i){return i.targetElement===t})){var n={targetElement:t,options:{}};f=[].concat(x(f),[n]),p?z():C(),p&&(t.ontouchstart=function(i){i.targetTouches.length===1&&(E=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&P(i,t)},w||(document.addEventListener("touchmove",y,g?{passive:!1}:void 0),w=!0))}},N=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}f=f.filter(function(e){return e.targetElement!==t}),p&&(t.ontouchstart=null,t.ontouchmove=null,w&&f.length===0&&(document.removeEventListener("touchmove",y,g?{passive:!1}:void 0),w=!1)),p?I():M()};class W extends HTMLElement{constructor(){super();u(this,"isOpen",!1);this.navbar=this.querySelector("lawyer-chat-window-navbar"),this.chat=this.querySelector("lawyer-chat-window-chat"),this.menuToggleButton=this.querySelector(".js-menu-button"),this._resizeObserver=null,window.addEventListener("beforeunload",e=>{this.isOpen&&this.closeWindow()}),this.menuToggleButton&&this.menuToggleButton.addEventListener("click",()=>{this.navbar.toggleNavbar()})}_applyResponsiveNavbar(){if(!this.isOpen||!this.navbar)return;document.documentElement.clientWidth<1024?this.navbar.closeNavbar():this.navbar.openNavbar()}_ensureResizeObserver(){this._resizeObserver||(this._resizeObserver=new ResizeObserver(()=>{this._applyResponsiveNavbar()}),this._resizeObserver.observe(document.documentElement))}_disableResizeObserver(){if(this._resizeObserver){try{this._resizeObserver.disconnect()}catch{}this._resizeObserver=null}}openWindow(){j(document.body),this.isOpen=!0,this.classList.add("is-open"),this._ensureResizeObserver(),this._applyResponsiveNavbar(),setTimeout(()=>{document.documentElement.clientWidth>=1024&&this.navbar&&this.navbar.openNavbar(),setTimeout(()=>{this.chat&&this.chat.toggleIsShown()},400)},300)}closeWindow(){N(document.body),this.isOpen=!1,this._disableResizeObserver(),this.navbar&&this.navbar.closeNavbar(),this.chat&&this.chat.toggleIsShown(),setTimeout(()=>{this.classList.remove("is-open")},300)}}class F extends HTMLElement{constructor(){super();u(this,"isShown",!1)}toggleNavbar(){this.isShown?(this.isShown=!1,this.classList.remove("is-shown")):(this.isShown=!0,this.classList.add("is-shown"))}openNavbar(){this.isShown=!0,this.classList.add("is-shown")}closeNavbar(){this.isShown=!1,this.classList.remove("is-shown")}}class D extends HTMLElement{constructor(){super();u(this,"isShown",!1)}toggleIsShown(){this.isShown=!this.isShown,this.isShown?this.classList.add("is-shown"):this.classList.remove("is-shown")}}const k=()=>{customElements.define("lawyer-chat-window",W),customElements.define("lawyer-chat-window-navbar",F),customElements.define("lawyer-chat-window-chat",D)},Y=190;class $ extends HTMLElement{constructor(){super();u(this,"isRecording",!1);this.speechButton=this.querySelector(".js-recording-button");const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.continuous=!0,this.attachShadow({mode:"open"});const n=document.createElement("textarea");n.setAttribute("part","input"),this.shadowRoot.appendChild(n);const i=document.createElement("slot");this.shadowRoot.appendChild(i),this._autoResizeHandler=()=>this._autoResize(),this.hasAttribute("value")&&(n.value=this.getAttribute("value")),n.addEventListener("input",()=>{this.hasAttribute("multiline")&&this._autoResize(),this.dispatchEvent(new CustomEvent("change",{detail:n.value}))}),this.initEventListeners()}initEventListeners(){this.speechButton&&(this.speechButton.addEventListener("click",this._onSpeechButtonClick.bind(this)),this.recognition.onstart=()=>{this.isRecording=!0,this.speechButton.classList.add("recording"),this.speechButton.querySelector(".js-mic").classList.add("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.remove("tw-hidden")},this.recognition.onaudioend=()=>{this.isRecording=!1,this.speechButton.classList.remove("recording"),this.speechButton.querySelector(".js-mic").classList.remove("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.add("tw-hidden")},this.recognition.onresult=e=>{const n=e.results;this.value=Array.from(n).map(i=>i[0].transcript).join(". ")})}connectedCallback(){const e=this.shadowRoot.querySelector("textarea");e&&(this.hasAttribute("rows")||(e.rows=1),this.hasAttribute("multiline")&&(this._enableMultiline(),requestAnimationFrame(()=>this._autoResize())))}static get observedAttributes(){return["value","placeholder","rows","cols","disabled","readonly","multiline"]}attributeChangedCallback(e,n,i){const s=this.shadowRoot.querySelector("textarea");s&&(e==="value"?(s.value=i,this.hasAttribute("multiline")&&this._autoResize()):e==="placeholder"?s.placeholder=i:e==="rows"?this.hasAttribute("multiline")||(s.rows=parseInt(i)||1):e==="cols"?s.cols=parseInt(i)||20:e==="disabled"?s.disabled=i!==null:e==="readonly"?s.readOnly=i!==null:e==="multiline"&&(i!==null?(this._enableMultiline(),this._autoResize()):this._disableMultiline()))}_enableMultiline(){const e=this.shadowRoot.querySelector("textarea");e&&(e.style.overflowY="hidden",e.style.resize="none",e.style.boxSizing="border-box",this._autoResize())}_disableMultiline(){const e=this.shadowRoot.querySelector("textarea");if(!e)return;e.style.overflowY="",e.style.resize="",e.style.boxSizing="",e.style.height="";const n=this.getAttribute("rows");e.rows=n&&parseInt(n)||1}_autoResize(){const e=this.shadowRoot.querySelector("textarea");e&&(e.style.height="auto",e.style.height=Math.min(Y,e.scrollHeight)+"px")}_onSpeechButtonClick(){this.isRecording?this.recognition.stop():this.recognition.start()}get value(){return this.shadowRoot.querySelector("textarea").value}set value(e){const n=this.shadowRoot.querySelector("textarea");n.value=e,this.hasAttribute("multiline")&&this._autoResize()}}const K=()=>{customElements.define("chat-input",$)};class Q extends HTMLElement{constructor(e){super(e);u(this,"isShown",!1);u(this,"activeStepNumber",0);this.steps=this.querySelector(".js-steps"),this.stepsCounter=this.querySelector(".js-steps-counter")}}const X=()=>{customElements.define("questions-progress",Q)};q();K();k();B();_();X();
