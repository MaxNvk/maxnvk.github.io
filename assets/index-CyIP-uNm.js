var A=Object.defineProperty;var B=(o,t,e)=>t in o?A(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var u=(o,t,e)=>B(o,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();class _ extends HTMLElement{constructor(){super();u(this,"isRecording",!1);const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.speechButton=this.querySelector(".js-recording-button"),this.form=this.querySelector(".js-form"),this.recognition.continuous=!0,this.chatWindow=document.querySelector("lawyer-chat-window"),this.formInput=this.querySelector("input[type='text']"),this.initEventListeners(),this.runMessageAppearAnimation()}runMessageAppearAnimation(){const e=this.querySelector(".js-message-text"),n=this.querySelector(".js-loading-dots");setTimeout(()=>{e.classList.remove("tw-hidden"),n.classList.add("tw-invisible","tw-h-0","tw-w-0")},5e3)}initEventListeners(){this.speechButton.addEventListener("click",this.onSpeechButtonClick.bind(this)),this.recognition.onstart=()=>{this.isRecording=!0,this.speechButton.classList.add("recording"),this.speechButton.querySelector(".js-mic").classList.add("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.remove("tw-hidden")},this.recognition.onaudioend=()=>{this.isRecording=!1,this.speechButton.classList.remove("recording"),this.speechButton.querySelector(".js-mic").classList.remove("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.add("tw-hidden")},this.recognition.onresult=e=>{const n=e.results;this.formInput.value=Array.from(n).map(s=>s[0].transcript).join(". ")},this.form.addEventListener("submit",e=>{e.preventDefault(),this.chatWindow.openWindow()})}onSpeechButtonClick(){this.isRecording?this.recognition.stop():this.recognition.start()}}const q=()=>{customElements.define("lawyer-chat-widget",_)},O=()=>{if(typeof window>"u"||typeof document>"u")return;const o=".header",t="is-scrolled",e=50,n=".button",s="button--white-outlined",i="button--primary";let l=!1,a=null,r=null;function d(){if(l=!1,!a)return;const S=window.scrollY>=e;a.classList.toggle(t,S),r&&(S?(r.classList.remove(s),r.classList.add(i)):(r.classList.add(s),r.classList.remove(i)))}function c(){l||(l=!0,window.requestAnimationFrame(d))}function g(){a=document.querySelector(o),a&&(r=a.querySelector(n),d(),window.addEventListener("scroll",c,{passive:!0}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g,{once:!0}):g()},T=()=>{if(typeof window>"u"||typeof document>"u")return;const o=".js-animate",t="is-visible";function e(i){if(i==null)return null;const l=String(i).trim().toLowerCase();if(!l)return null;if(l.endsWith("ms")){const r=parseFloat(l.slice(0,-2));return!isFinite(r)||r<0?null:`${r}ms`}if(l.endsWith("s")){const r=parseFloat(l.slice(0,-1));return!isFinite(r)||r<0?null:`${r}s`}const a=parseFloat(l);return!isFinite(a)||a<0?null:`${a}ms`}function n(i,l=!1,a=!1){var d;if(i.classList.contains(t))return;if(!l){const c=e(((d=i==null?void 0:i.dataset)==null?void 0:d.delay)??i.getAttribute("data-animation-delay"));c&&(i.style.transitionDelay=c)}const r=()=>i.classList.add(t);a?r():requestAnimationFrame(()=>requestAnimationFrame(r))}function s(){const i=Array.from(document.querySelectorAll(o));if(i.length===0)return;const l=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!("IntersectionObserver"in window)||l){i.forEach(r=>n(r,!0,!0));return}const a=new IntersectionObserver((r,d)=>{r.forEach(c=>{c.isIntersecting&&(n(c.target),d.unobserve(c.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15});i.forEach(r=>a.observe(r))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s,{once:!0}):s()};function C(o){if(Array.isArray(o)){for(var t=0,e=Array(o.length);t<o.length;t++)e[t]=o[t];return e}else return Array.from(o)}var b=!1;if(typeof window<"u"){var L={get passive(){b=!0}};window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}var m=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),f=[],w=!1,E=-1,p=void 0,h=void 0,v=void 0,R=function(t){return f.some(function(e){return!!(e.options.allowTouchMove&&e.options.allowTouchMove(t))})},y=function(t){var e=t||window.event;return R(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},x=function(t){if(v===void 0){var e=!!t&&t.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){var s=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);v=document.body.style.paddingRight,document.body.style.paddingRight=s+n+"px"}}p===void 0&&(p=document.body.style.overflow,document.body.style.overflow="hidden")},I=function(){v!==void 0&&(document.body.style.paddingRight=v,v=void 0),p!==void 0&&(document.body.style.overflow=p,p=void 0)},M=function(){return window.requestAnimationFrame(function(){if(h===void 0){h={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var t=window,e=t.scrollY,n=t.scrollX,s=t.innerHeight;document.body.style.position="fixed",document.body.style.top=-e,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var i=s-window.innerHeight;i&&e>=s&&(document.body.style.top=-(e+i))})},300)}})},N=function(){if(h!==void 0){var t=-parseInt(document.body.style.top,10),e=-parseInt(document.body.style.left,10);document.body.style.position=h.position,document.body.style.top=h.top,document.body.style.left=h.left,window.scrollTo(e,t),h=void 0}},z=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},j=function(t,e){var n=t.targetTouches[0].clientY-E;return R(t.target)?!1:e&&e.scrollTop===0&&n>0||z(e)&&n<0?y(t):(t.stopPropagation(),!0)},H=function(t,e){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!f.some(function(s){return s.targetElement===t})){var n={targetElement:t,options:e||{}};f=[].concat(C(f),[n]),m?M():x(e),m&&(t.ontouchstart=function(s){s.targetTouches.length===1&&(E=s.targetTouches[0].clientY)},t.ontouchmove=function(s){s.targetTouches.length===1&&j(s,t)},w||(document.addEventListener("touchmove",y,b?{passive:!1}:void 0),w=!0))}},P=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}f=f.filter(function(e){return e.targetElement!==t}),m&&(t.ontouchstart=null,t.ontouchmove=null,w&&f.length===0&&(document.removeEventListener("touchmove",y,b?{passive:!1}:void 0),w=!1)),m?N():I()};class W extends HTMLElement{constructor(){super();u(this,"isOpen",!1);this.navbar=this.querySelector("lawyer-chat-window-navbar"),this.chat=this.querySelector("lawyer-chat-window-chat"),this.menuToggleButton=this.querySelector(".js-menu-button"),this._resizeObserver=null,window.addEventListener("beforeunload",e=>{this.isOpen&&this.closeWindow()}),this.menuToggleButton&&this.menuToggleButton.addEventListener("click",()=>{this.navbar.toggleNavbar()})}_applyResponsiveNavbar(){if(!this.isOpen||!this.navbar)return;document.documentElement.clientWidth<1024?this.navbar.closeNavbar():this.navbar.openNavbar()}_ensureResizeObserver(){this._resizeObserver||(this._resizeObserver=new ResizeObserver(()=>{this._applyResponsiveNavbar()}),this._resizeObserver.observe(document.documentElement))}_disableResizeObserver(){if(this._resizeObserver){try{this._resizeObserver.disconnect()}catch{}this._resizeObserver=null}}openWindow(){H(document.body,{allowTouchMove:e=>{for(;e&&e!==document.body;){if(e.getAttribute("body-scroll-lock-ignore")!==null)return!0;e=e.parentElement}}}),this.isOpen=!0,this.classList.add("is-open"),this._ensureResizeObserver(),this._applyResponsiveNavbar(),setTimeout(()=>{document.documentElement.clientWidth>=1024&&this.navbar&&this.navbar.openNavbar(),setTimeout(()=>{this.chat&&this.chat.toggleIsShown()},400)},300)}closeWindow(){P(document.body),this.isOpen=!1,this._disableResizeObserver(),this.navbar&&this.navbar.closeNavbar(),this.chat&&this.chat.toggleIsShown(),setTimeout(()=>{this.classList.remove("is-open")},300)}}class F extends HTMLElement{constructor(){super();u(this,"isShown",!1);this.hideNavbarButton=this.querySelector(".js-hide-navbar"),this.hideNavbarButton&&this.hideNavbarButton.addEventListener("click",()=>{this.closeNavbar()})}toggleNavbar(){this.isShown?(this.isShown=!1,this.classList.remove("is-shown")):(this.isShown=!0,this.classList.add("is-shown"))}openNavbar(){this.isShown=!0,this.classList.add("is-shown")}closeNavbar(){this.isShown=!1,this.classList.remove("is-shown")}}class D extends HTMLElement{constructor(){super();u(this,"isShown",!1)}toggleIsShown(){this.isShown=!this.isShown,this.isShown?this.classList.add("is-shown"):this.classList.remove("is-shown")}}const k=()=>{customElements.define("lawyer-chat-window",W),customElements.define("lawyer-chat-window-navbar",F),customElements.define("lawyer-chat-window-chat",D)},Y=190;class $ extends HTMLElement{constructor(){super();u(this,"isRecording",!1);this.speechButton=this.querySelector(".js-recording-button");const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.continuous=!0,this.attachShadow({mode:"open"});const n=document.createElement("textarea");n.setAttribute("part","input"),this.shadowRoot.appendChild(n);const s=document.createElement("slot");this.shadowRoot.appendChild(s),this._autoResizeHandler=()=>this._autoResize(),this.hasAttribute("value")&&(n.value=this.getAttribute("value")),n.addEventListener("input",()=>{this.hasAttribute("multiline")&&this._autoResize(),this.dispatchEvent(new CustomEvent("change",{detail:n.value}))}),this.initEventListeners()}initEventListeners(){this.speechButton&&(this.speechButton.addEventListener("click",this._onSpeechButtonClick.bind(this)),this.recognition.onstart=()=>{this.isRecording=!0,this.speechButton.classList.add("recording"),this.speechButton.querySelector(".js-mic").classList.add("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.remove("tw-hidden")},this.recognition.onaudioend=()=>{this.isRecording=!1,this.speechButton.classList.remove("recording"),this.speechButton.querySelector(".js-mic").classList.remove("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.add("tw-hidden")},this.recognition.onresult=e=>{const n=e.results;this.value=Array.from(n).map(s=>s[0].transcript).join(". ")})}connectedCallback(){const e=this.shadowRoot.querySelector("textarea");e&&(this.hasAttribute("rows")||(e.rows=1),this.hasAttribute("multiline")&&(this._enableMultiline(),requestAnimationFrame(()=>this._autoResize())))}static get observedAttributes(){return["value","placeholder","rows","cols","disabled","readonly","multiline"]}attributeChangedCallback(e,n,s){const i=this.shadowRoot.querySelector("textarea");i&&(e==="value"?(i.value=s,this.hasAttribute("multiline")&&this._autoResize()):e==="placeholder"?i.placeholder=s:e==="rows"?this.hasAttribute("multiline")||(i.rows=parseInt(s)||1):e==="cols"?i.cols=parseInt(s)||20:e==="disabled"?i.disabled=s!==null:e==="readonly"?i.readOnly=s!==null:e==="multiline"&&(s!==null?(this._enableMultiline(),this._autoResize()):this._disableMultiline()))}_enableMultiline(){const e=this.shadowRoot.querySelector("textarea");e&&(e.style.overflowY="hidden",e.style.resize="none",e.style.boxSizing="border-box",this._autoResize())}_disableMultiline(){const e=this.shadowRoot.querySelector("textarea");if(!e)return;e.style.overflowY="",e.style.resize="",e.style.boxSizing="",e.style.height="";const n=this.getAttribute("rows");e.rows=n&&parseInt(n)||1}_autoResize(){const e=this.shadowRoot.querySelector("textarea");e&&(e.style.height="auto",e.style.height=Math.min(Y,e.scrollHeight)+"px")}_onSpeechButtonClick(){this.isRecording?this.recognition.stop():this.recognition.start()}get value(){return this.shadowRoot.querySelector("textarea").value}set value(e){const n=this.shadowRoot.querySelector("textarea");n.value=e,this.hasAttribute("multiline")&&this._autoResize()}}const K=()=>{customElements.define("chat-input",$)};class Q extends HTMLElement{constructor(){super();u(this,"isShown",!1);u(this,"activeStepNumber",0);this.stepsEl=null,this.counterEl=null}static get observedAttributes(){return["steps","current-step"]}connectedCallback(){this.stepsEl=this.querySelector(".js-steps"),this.counterEl=this.querySelector(".js-steps-counter"),this.isShown=this.classList.contains("is-shown"),this.isShown||this.show(),this._render()}attributeChangedCallback(){this._render()}show(){this.isShown=!0,this.classList.add("is-shown")}hide(){this.isShown=!1,this.classList.remove("is-shown")}toggleIsShown(){this.isShown?this.hide():this.show()}_parseIntAttr(e,n){const s=this.getAttribute(e),i=s==null?NaN:parseInt(String(s),10);return Number.isFinite(i)&&!Number.isNaN(i)?i:n}_render(){if(this.stepsEl||(this.stepsEl=this.querySelector(".js-steps")),this.counterEl||(this.counterEl=this.querySelector(".js-steps-counter")),!this.stepsEl)return;let e=this._parseIntAttr("steps",0),n=this._parseIntAttr("current-step",0);if(e<0&&(e=0),n<0&&(n=0),n>e&&(n=e),this.counterEl){const s=e>0?`Step ${n} of ${e}`:"";this.counterEl.textContent=s}for(;this.stepsEl.firstChild;)this.stepsEl.removeChild(this.stepsEl.firstChild);for(let s=0;s<e;s++){const i=document.createElement("div");s<n&&i.classList.add("active"),this.stepsEl.appendChild(i)}}}const X=()=>{customElements.get("questions-progress")||customElements.define("questions-progress",Q)};O();K();k();q();T();X();
