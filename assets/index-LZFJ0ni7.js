(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function c(n){if(n.ep)return;n.ep=!0;const e=r(n);fetch(n.href,e)}})();class h extends HTMLElement{constructor(){super();const s=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new s,this.speechButton=this.querySelector(".js-recording-button"),this.form=this.querySelector(".js-form"),this.isRecording=!1,this.recognition.continuous=!0,this.formInput=this.querySelector("input[type='text']"),this.initEventListeners(),this.runMessageAppearAnimation()}runMessageAppearAnimation(){const s=this.querySelector(".js-message-text"),r=this.querySelector(".js-loading-dots");setTimeout(()=>{s.classList.remove("tw-hidden"),r.classList.add("tw-invisible")},5e3)}initEventListeners(){this.speechButton.addEventListener("click",this.onSpeechButtonClick.bind(this)),this.recognition.onstart=()=>{this.isRecording=!0,this.speechButton.classList.add("recording"),this.speechButton.querySelector(".js-mic").classList.add("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.remove("tw-hidden")},this.recognition.onaudioend=()=>{console.log("Speech recognition ended"),this.isRecording=!1,this.speechButton.classList.remove("recording"),this.speechButton.querySelector(".js-mic").classList.remove("tw-hidden"),this.speechButton.querySelector(".js-mic-red").classList.add("tw-hidden")},this.recognition.onresult=s=>{const r=s.results;this.formInput.value=Array.from(r).map(c=>c[0].transcript).join(". ")}}onSpeechButtonClick(){this.isRecording?this.recognition.stop():this.recognition.start()}}const m=()=>{customElements.define("lawyer-chat-widget",h)},p=()=>{if(typeof window>"u"||typeof document>"u")return;const a=".header",s="is-scrolled",r=50,c=".button",n="button--white-outlined",e="button--primary";let i=!1,o=null,t=null;function d(){if(i=!1,!o)return;const f=window.scrollY>=r;o.classList.toggle(s,f),t&&(f?(t.classList.remove(n),t.classList.add(e)):(t.classList.add(n),t.classList.remove(e)))}function u(){i||(i=!0,window.requestAnimationFrame(d))}function l(){o=document.querySelector(a),o&&(t=o.querySelector(c),d(),window.addEventListener("scroll",u,{passive:!0}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l,{once:!0}):l()},g=()=>{if(typeof window>"u"||typeof document>"u")return;const a=".js-animate",s="is-visible";function r(e){if(e==null)return null;const i=String(e).trim().toLowerCase();if(!i)return null;if(i.endsWith("ms")){const t=parseFloat(i.slice(0,-2));return!isFinite(t)||t<0?null:`${t}ms`}if(i.endsWith("s")){const t=parseFloat(i.slice(0,-1));return!isFinite(t)||t<0?null:`${t}s`}const o=parseFloat(i);return!isFinite(o)||o<0?null:`${o}ms`}function c(e,i=!1,o=!1){var d;if(e.classList.contains(s))return;if(!i){const u=r(((d=e==null?void 0:e.dataset)==null?void 0:d.delay)??e.getAttribute("data-animation-delay"));u&&(e.style.transitionDelay=u)}const t=()=>e.classList.add(s);o?t():requestAnimationFrame(()=>requestAnimationFrame(t))}function n(){const e=Array.from(document.querySelectorAll(a));if(e.length===0)return;const i=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!("IntersectionObserver"in window)||i){e.forEach(t=>c(t,!0,!0));return}const o=new IntersectionObserver((t,d)=>{t.forEach(u=>{u.isIntersecting&&(c(u.target),d.unobserve(u.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15});e.forEach(t=>o.observe(t))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n,{once:!0}):n()};p();m();g();
